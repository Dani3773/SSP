<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Análises e Relatórios - SSP Criciúma</title>
  <link rel="stylesheet" href="../stylo/anaStyle.css">
  <link rel="icon" href="../img/icone_criciuma.png" type="image/png">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script src="../function/anaScript.js" defer></script>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="logo">
      <a href="index.html" class="logo-link">
        <img src="../img/logo-preta.png" alt="Emblema da SSP">
      </a>
      <p>SSP - CRICIÚMA</p>
    </div>
    <div class="menu">
      <nav class="menu-links">
        <a href="index.html">Início</a>
        <a href="index.html#denuncia">Denúncia</a>
        <a href="mapdex.html">Mapa</a>
        <a href="noticias.html">Notícias</a>
        <a href="anadex.html" class="active">Análises</a>
        <a href="index.html#contato">Contato</a>
        <button type="button" class="menu-cta">Acesso comitê</button>
      </nav>
    </div>
  </header>

  <main>
    <!-- Hero Section -->
    <section class="hero-analytics">
      <div class="hero-content">
        <h1><i class="fas fa-chart-line"></i> Análises e Relatórios</h1>
        <p>Dashboard completo com indicadores e estatísticas de segurança pública em tempo real</p>
      </div>
    </section>

    <!-- Filtros e Controles -->
    <section class="filters-section">
      <div class="container">
        <div class="filters-bar">
          <div class="filter-group">
            <label for="periodo-select">
              <i class="fas fa-calendar-alt"></i> Período
            </label>
            <select id="periodo-select" class="filter-select">
              <option value="hoje">Hoje</option>
              <option value="semana">Última Semana</option>
              <option value="mes" selected>Último Mês</option>
              <option value="trimestre">Último Trimestre</option>
              <option value="ano">Último Ano</option>
              <option value="personalizado">Personalizado</option>
            </select>
          </div>

          <div class="filter-group">
            <label for="tipo-select">
              <i class="fas fa-filter"></i> Tipo de Ocorrência
            </label>
            <select id="tipo-select" class="filter-select">
              <option value="todas" selected>Todas</option>
              <option value="roubo">Roubo</option>
              <option value="furto">Furto</option>
              <option value="assalto">Assalto</option>
              <option value="trafico">Tráfico</option>
              <option value="vandalismo">Vandalismo</option>
              <option value="agressao">Agressão</option>
              <option value="transito">Trânsito</option>
              <option value="perturbacao">Perturbação</option>
              <option value="ambiental">Ambiental</option>
            </select>
          </div>

          <div class="filter-group">
            <label for="bairro-select">
              <i class="fas fa-map-marker-alt"></i> Bairro
            </label>
            <select id="bairro-select" class="filter-select">
              <option value="todos" selected>Todos os Bairros</option>
              <option value="centro">Centro</option>
              <option value="pinheirinho">Pinheirinho</option>
              <option value="santa-luzia">Santa Luzia</option>
              <option value="operaria-nova">Operária Nova</option>
              <option value="prospera">Próspera</option>
              <option value="sao-luiz">São Luiz</option>
            </select>
          </div>

          <button class="btn-export">
            <i class="fas fa-download"></i> Exportar Dados
          </button>
        </div>
      </div>
    </section>

    <!-- Cards de Estatísticas Principais -->
    <section class="stats-cards">
      <div class="container">
        <div class="cards-grid">
          <div class="stat-card stat-card-blue">
            <div class="stat-icon">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="stat-info">
              <h3>Ocorrências</h3>
              <p class="stat-number" id="stat-ocorrencias">0</p>
              <p class="stat-change positive" id="stat-ocorrencias-change">
                <i class="fas fa-arrow-down"></i> Carregando...
              </p>
            </div>
          </div>

          <div class="stat-card stat-card-green">
            <div class="stat-icon">
              <i class="fas fa-check-circle"></i>
            </div>
            <div class="stat-info">
              <h3>Taxa Resolução</h3>
              <p class="stat-number" id="stat-resolucao">0%</p>
              <p class="stat-change positive" id="stat-resolucao-change">
                <i class="fas fa-arrow-up"></i> Carregando...
              </p>
            </div>
          </div>

          <div class="stat-card stat-card-orange">
            <div class="stat-icon">
              <i class="fas fa-clock"></i>
            </div>
            <div class="stat-info">
              <h3>Tempo Médio</h3>
              <p class="stat-number" id="stat-tempo">-</p>
              <p class="stat-change positive" id="stat-tempo-change">
                <i class="fas fa-arrow-down"></i> Carregando...
              </p>
            </div>
          </div>

          <div class="stat-card stat-card-purple">
            <div class="stat-icon">
              <i class="fas fa-camera"></i>
            </div>
            <div class="stat-info">
              <h3>Câmeras Ativas</h3>
              <p class="stat-number" id="stat-cameras">0</p>
              <p class="stat-change neutral" id="stat-cameras-change">
                <i class="fas fa-equals"></i> Carregando...
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Gráficos Principais -->
    <section class="charts-section">
      <div class="container">
        <div class="charts-grid">
          <!-- Gráfico de Ocorrências por Mês -->
          <div class="chart-card">
            <div class="chart-header">
              <h2><i class="fas fa-chart-area"></i> Ocorrências Mensais</h2>
              <div class="chart-controls">
                <button class="chart-btn active" data-chart="line">
                  <i class="fas fa-chart-line"></i>
                </button>
                <button class="chart-btn" data-chart="bar">
                  <i class="fas fa-chart-bar"></i>
                </button>
              </div>
            </div>
            <div class="chart-container">
              <canvas id="ocorrenciasChart"></canvas>
            </div>
          </div>

          <!-- Gráfico de Tipos de Crime -->
          <div class="chart-card">
            <div class="chart-header">
              <h2><i class="fas fa-chart-pie"></i> Distribuição por Tipo</h2>
            </div>
            <div class="chart-container">
              <canvas id="tiposChart"></canvas>
            </div>
          </div>
        </div>

        <!-- Gráfico de Comparativo Anual -->
        <div class="chart-card chart-full">
          <div class="chart-header">
            <h2><i class="fas fa-chart-bar"></i> Comparativo Anual 2024 vs 2025</h2>
            <span class="chart-subtitle">Análise comparativa de indicadores principais</span>
          </div>
          <div class="chart-container">
            <canvas id="comparativoChart"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- Tabela de Bairros -->
    <section class="table-section">
      <div class="container">
        <div class="table-card">
          <div class="table-header">
            <h2><i class="fas fa-table"></i> Estatísticas por Bairro</h2>
            <div class="table-search">
              <i class="fas fa-search"></i>
              <input type="text" placeholder="Buscar bairro..." id="search-bairro">
            </div>
          </div>
          <div class="table-wrapper">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Bairro</th>
                  <th>Ocorrências</th>
                  <th>Patrulhas</th>
                  <th>Taxa de Resolução</th>
                  <th>Status</th>
                  <th>Tendência</th>
                </tr>
              </thead>
              <tbody id="bairro-table-body">
                <tr>
                  <td colspan="6" style="text-align:center; padding: 20px; color: var(--text-medium);">Carregando dados por bairro...</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- Mapa de Calor Visual -->
    <section class="heatmap-section">
      <div class="container">
        <div class="heatmap-card">
          <div class="heatmap-header">
            <h2><i class="fas fa-fire"></i> Mapa de Calor - Áreas Críticas</h2>
            <p>Intensidade de ocorrências por região</p>
          </div>
          <div class="heatmap-grid" id="heatmap-grid">
            <div class="heat-item" style="width:100%; text-align:center; color: var(--text-medium); padding: 20px;">
              Carregando mapa de calor...
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Indicadores Adicionais -->
    <section class="indicators-section">
      <div class="container">
        <h2 class="section-title"><i class="fas fa-chart-line"></i> Indicadores Complementares</h2>
        <div class="indicators-grid">
          <div class="indicator-card">
            <div class="indicator-icon icon-blue">
              <i class="fas fa-users"></i>
            </div>
            <h3>População Atendida</h3>
            <p class="indicator-value" id="indicator-populacao">215.186</p>
            <p class="indicator-desc">habitantes monitorados</p>
          </div>

          <div class="indicator-card">
            <div class="indicator-icon icon-green">
              <i class="fas fa-car"></i>
            </div>
            <h3>Viaturas Ativas</h3>
            <p class="indicator-value" id="indicator-viaturas">42</p>
            <p class="indicator-desc">em operação 24h</p>
          </div>

          <div class="indicator-card">
            <div class="indicator-icon icon-orange">
              <i class="fas fa-video"></i>
            </div>
            <h3>Câmeras Ativas</h3>
            <p class="indicator-value" id="indicator-cameras">156</p>
            <p class="indicator-desc">pontos de monitoramento</p>
          </div>

          <div class="indicator-card">
            <div class="indicator-icon icon-red">
              <i class="fas fa-phone-alt"></i>
            </div>
            <h3>Chamados Atendidos</h3>
            <p class="indicator-value" id="indicator-chamados">98.5%</p>
            <p class="indicator-desc">taxa de atendimento</p>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer id="contato">
    <div class="footer-container">
      <div class="footer-main">
        <div class="footer-brand">
          <div class="footer-logo">
            <img src="../img/logo-preta.png" alt="Emblema da SSP">
            <div class="footer-brand-text">
              <h3>SSP - CRICIÚMA</h3>
              <p>Sistema de Segurança Pública</p>
            </div>
          </div>
          <p class="footer-description">
            Proteção inteligente, transparente e comprometida com cada cidadão.
          </p>
        </div>

        <div class="footer-contact">
          <h3>Fale Conosco</h3>
          <ul class="contact-list">
            <li>
              <i class="fas fa-envelope"></i>
              <a href="mailto:contato@ssp.gov">contato@ssp.gov</a>
            </li>
            <li>
              <i class="fas fa-phone"></i>
              <a href="tel:+5548000000000">(48) 00000-0000</a>
            </li>
            <li>
              <i class="fas fa-map-marker-alt"></i>
              <span>Rua da Segurança, 125 - Centro<br>Criciúma - SC</span>
            </li>
          </ul>
        </div>

        <div class="footer-links">
          <h3>Acesse Também</h3>
          <ul>
            <li><a href="index.html">Página Inicial</a></li>
            <li><a href="mapdex.html">Painel de Mapas</a></li>
            <li><a href="noticias.html">Central de Notícias</a></li>
            <li><a href="comdex.html">Área do Comitê</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 SSP Criciúma. Todos os direitos reservados.</p>
        <p class="footer-lgpd">Sistema em conformidade com a LGPD</p>
      </div>
    </div>
  </footer>
</body>
</html>
