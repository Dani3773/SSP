<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste - Comitê Dashboard</title>
    <link rel="stylesheet" href="stylo/comdex.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="function/comdex.js" defer></script>
    <style>
        body { padding-top: 0; }
        .test-notice {
            background: #fff3cd;
            color: #856404;
            padding: 10px;
            text-align: center;
            border-bottom: 1px solid #ffeaa7;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="test-notice">
        <strong>MODO TESTE:</strong> Usando dados simulados com persistência localStorage.
        <button onclick="debugMockData()" style="margin-left: 10px; padding: 2px 8px; font-size: 12px;">Ver Dados</button>
        <button onclick="clearMockData()" style="margin-left: 5px; padding: 2px 8px; font-size: 12px; background: #dc3545; color: white;">Limpar</button>
    </div>

    <!-- Header -->
    <header>
        <div class="logo">
            <a href="#" class="logo-link">
                <img src="img/logo-preta.png" alt="Emblema da SSP" onerror="this.src='https://via.placeholder.com/70x70/080d3f/white?text=SSP'">
            </a>
            <p>SSP - CRICIÚMA</p>
        </div>
        <div class="menu">
            <nav class="menu-links">
                <a href="#">Início</a>
                <a href="#">Denúncia</a>
                <a href="#">Mapa</a>
                <a href="#">Notícias</a>
                <a href="#">Análises</a>
                <button type="button" class="btn-logout">
                    <i class="fas fa-sign-out-alt"></i> Sair
                </button>
            </nav>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero-comite">
            <div class="hero-content">
                <h1><i class="fas fa-shield-alt"></i> Painel Administrativo do Comitê</h1>
                <p>Gerencie todos os aspectos do sistema de segurança pública</p>
            </div>
        </section>

        <!-- Dashboard Container -->
        <div class="container">

            <!-- Quick Access Cards -->
            <section class="quick-access">
                <h2 class="section-title">
                    <i class="fas fa-tasks"></i> Painel de Gerenciamento do Sistema
                </h2>
                <p class="section-subtitle">Gerencie notícias, análises, câmeras e usuários da plataforma</p>

                <div class="quick-cards-grid">
                    <div class="quick-card card-news active" onclick="toggleSection('noticias')">
                        <div class="quick-icon">
                            <i class="fas fa-newspaper"></i>
                        </div>
                        <h3>Notícias</h3>
                        <p>Gerenciar publicações</p>
                        <div class="card-arrow">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>

                    <div class="quick-card card-analysis" onclick="toggleSection('analises')">
                        <div class="quick-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Análises</h3>
                        <p>Dados e relatórios</p>
                        <div class="card-arrow">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>

                    <div class="quick-card card-cameras" onclick="toggleSection('cameras')">
                        <div class="quick-icon">
                            <i class="fas fa-video"></i>
                        </div>
                        <h3>Câmeras</h3>
                        <p>Gerenciar dispositivos</p>
                        <div class="card-arrow">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>

                    <div class="quick-card card-users" onclick="toggleSection('usuarios')">
                        <div class="quick-icon">
                            <i class="fas fa-users-cog"></i>
                        </div>
                        <h3>Usuários</h3>
                        <p>Gerenciar acessos</p>
                        <div class="card-arrow">
                            <i class="fas fa-chevron-down"></i>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Management Sections -->

            <!-- SEÇÃO: GERENCIAR NOTÍCIAS -->
            <section id="section-noticias" class="management-section active">
                <div class="section-header">
                    <h2><i class="fas fa-newspaper"></i> Gerenciar Notícias</h2>
                </div>

                <div class="management-content">
                    <div class="action-buttons">
                        <button class="btn-primary" onclick="openModal('add-noticia')">
                            <i class="fas fa-plus"></i> Adicionar Notícia
                        </button>
                        <button class="btn-secondary" onclick="refreshNews()">
                            <i class="fas fa-sync"></i> Atualizar Lista
                        </button>
                        <span id="news-count" style="margin-left: auto; font-size: 14px; color: var(--text-medium);">
                            <i class="fas fa-info-circle"></i> Carregando...
                        </span>
                    </div>

                    <div class="table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Título</th>
                                    <th>Data</th>
                                    <th>Status</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="news-table-body">
                                <!-- Dados serão carregados dinamicamente -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- Outras seções podem ser adicionadas aqui -->

        </div>

        <!-- Modal para Adicionar/Editar -->
        <div id="modal-overlay" class="modal-overlay" onclick="closeModal()"></div>
        <div id="modal-container" class="modal-container">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-title">Adicionar Item</h3>
                    <button class="btn-close-modal" onclick="closeModal()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body" id="modal-body">
                    <!-- Conteúdo dinâmico será inserido aqui -->
                </div>
            </div>
        </div>

    </main>

    <script>
        // Simular token de autenticação
        localStorage.setItem('ssp-token', 'test-token-mock');

        // Logout functionality
        document.addEventListener('DOMContentLoaded', function() {
            const logoutBtn = document.querySelector('.btn-logout');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', function() {
                    localStorage.removeItem('ssp-token');
                    alert('Logout realizado! Recarregue a página para testar novamente.');
                });
            }
        });
    </script>

</body>
</html>